import{u as c,r as x,j as e,c as h,R as m}from"../../../index-C0mdIfWc.js";import{b as o,g as p,a as f,c as j,d as v}from"../../../web-app-DnuSsBjl.js";import{S as b,a as N,b as y,P as S,A as C,g as z,c as A}from"../../../Spinner-CfWM94WA.js";import{l as w}from"../../../message-bus-fCsfo-jD.js";import{g as _}from"../../../tab-CJqXMPzv.js";function I(t){const i=p(),[a]=c("includeShippingCostsDefault",!1),[n,s]=c("includeShippingCosts",!1);return x.useEffect(()=>{a&&s(a)},[a,s]),e.jsxs("div",{className:"m-2 space-y-1",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border-b p-1 pb-2 font-semibold text-neutral-400",children:[e.jsx("a",{className:"flex-1",href:i,target:"_blank",rel:"noreferrer",children:e.jsx("img",{src:"/images/logo_transparent.png",alt:"EuroSaver Logo",width:2569,height:504,className:"h-6 w-auto"})}),e.jsx("button",{onClick:r=>{r.preventDefault(),s(!n)},title:o.i18n.getMessage("include_shipping"),className:"items-center rounded-md p-2 transition-all duration-200 ease-in-out hover:bg-zinc-200 hover:text-orange-400",children:e.jsx(b,{className:`h-4 transition-all duration-200 ease-in-out group-hover:translate-x-1 ${n&&"text-orange-500"}`})}),e.jsx("button",{onClick:r=>{r.preventDefault(),o.runtime.openOptionsPage()},title:o.i18n.getMessage("options_header"),className:"items-center rounded-md p-2 transition-all duration-200 ease-in-out hover:bg-zinc-200 hover:text-orange-400",children:e.jsx(N,{className:"h-4 transition-all duration-200 ease-in-out group-hover:translate-x-1"})})]}),e.jsxs("div",{className:"my-1 divide-y px-2",children:[t.articles.length==0&&e.jsx(y,{}),t.articles.length>0&&e.jsx(S,{articles:t.articles,amazonCountry:t.amazonCountry,currencyInfo:t.currencyInfo,includeShippingCosts:n}),t.articles.length>0&&t.ad&&e.jsx(C,{ad:t.ad})]})]})}function E(){return e.jsx("div",{className:"flex min-h-[100dvh] flex-col items-center justify-center px-4 pb-6 pt-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-[400px] text-center",children:[e.jsx("div",{className:"mb-4 flex items-center justify-center",children:e.jsx("img",{src:"/images/logo_transparent.png",alt:"EuroSaver Logo",width:2569,height:504,className:"h-8 w-auto"})}),e.jsx("h1",{className:"my-8 bg-gradient-to-r from-orange-600 via-orange-500 to-orange-400 bg-clip-text text-center text-6xl font-bold text-transparent",children:"404"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-lg font-bold",children:o.i18n.getMessage("no_amazon_header")}),e.jsx("p",{className:"text-muted-foreground text-sm",children:o.i18n.getMessage("no_amazon_description")})]})]})})}(async function(){const i=await _();if(!i)return;const a=i.url,n=f(a),s=j(a),r=v(a)??i.title??"",l=h(document.getElementById("app"));if(!n||!s){l.render(e.jsx(m.StrictMode,{children:e.jsx(E,{})}));return}const[d,g,u]=await Promise.all([w(n),z(),A({asin:n,name:r,amazonCountry:s})]);l.render(e.jsx(m.StrictMode,{children:e.jsx(I,{articles:d,amazonCountry:s,name:r,currencyInfo:g,ad:u})}))})();
